{
  "indexes": [
    {
      "collectionGroup": "relationships",
      "queryScope": "COLLECTION",
      "fields": [
        { "fieldPath": "userId", "order": "ASCENDING" },
        { "fieldPath": "relationshipType", "order": "ASCENDING" },
        { "fieldPath": "lastContact", "order": "DESCENDING" }
      ]
    },
    {
      "collectionGroup": "relationships", 
      "queryScope": "COLLECTION",
      "fields": [
        { "fieldPath": "userId", "order": "ASCENDING" },
        { "fieldPath": "relationshipHealth", "order": "DESCENDING" },
        { "fieldPath": "lastContact", "order": "DESCENDING" }
      ]
    },
    {
      "collectionGroup": "relationships",
      "queryScope": "COLLECTION", 
      "fields": [
        { "fieldPath": "userId", "order": "ASCENDING" },
        { "fieldPath": "tags", "arrayConfig": "CONTAINS" },
        { "fieldPath": "relationshipIntensity", "order": "DESCENDING" }
      ]
    },
    {
      "collectionGroup": "interactions",
      "queryScope": "COLLECTION",
      "fields": [
        { "fieldPath": "userId", "order": "ASCENDING" },
        { "fieldPath": "personId", "order": "ASCENDING" },
        { "fieldPath": "timestamp", "order": "DESCENDING" }
      ]
    },
    {
      "collectionGroup": "interactions",
      "queryScope": "COLLECTION", 
      "fields": [
        { "fieldPath": "userId", "order": "ASCENDING" },
        { "fieldPath": "type", "order": "ASCENDING" },
        { "fieldPath": "timestamp", "order": "DESCENDING" }
      ]
    },
    {
      "collectionGroup": "interactions",
      "queryScope": "COLLECTION",
      "fields": [
        { "fieldPath": "userId", "order": "ASCENDING" },
        { "fieldPath": "emotionalTone", "order": "ASCENDING" },
        { "fieldPath": "timestamp", "order": "DESCENDING" }
      ]
    },
    {
      "collectionGroup": "interactions",
      "queryScope": "COLLECTION",
      "fields": [
        { "fieldPath": "userId", "order": "ASCENDING" },
        { "fieldPath": "interactionQuality", "order": "DESCENDING" },
        { "fieldPath": "timestamp", "order": "DESCENDING" }
      ]
    },
    {
      "collectionGroup": "lifeEvents",
      "queryScope": "COLLECTION",
      "fields": [
        { "fieldPath": "userId", "order": "ASCENDING" },
        { "fieldPath": "personId", "order": "ASCENDING" },
        { "fieldPath": "date", "order": "ASCENDING" }
      ]
    },
    {
      "collectionGroup": "lifeEvents", 
      "queryScope": "COLLECTION",
      "fields": [
        { "fieldPath": "userId", "order": "ASCENDING" },
        { "fieldPath": "type", "order": "ASCENDING" },
        { "fieldPath": "date", "order": "ASCENDING" }
      ]
    },
    {
      "collectionGroup": "lifeEvents",
      "queryScope": "COLLECTION",
      "fields": [
        { "fieldPath": "userId", "order": "ASCENDING" },
        { "fieldPath": "importance", "order": "DESCENDING" },
        { "fieldPath": "date", "order": "ASCENDING" }
      ]
    },
    {
      "collectionGroup": "lifeEvents",
      "queryScope": "COLLECTION", 
      "fields": [
        { "fieldPath": "userId", "order": "ASCENDING" },
        { "fieldPath": "reminderDate", "order": "ASCENDING" },
        { "fieldPath": "reminderSent", "order": "ASCENDING" }
      ]
    },
    {
      "collectionGroup": "prompts",
      "queryScope": "COLLECTION",
      "fields": [
        { "fieldPath": "userId", "order": "ASCENDING" },
        { "fieldPath": "status", "order": "ASCENDING" },
        { "fieldPath": "urgency", "order": "DESCENDING" }
      ]
    },
    {
      "collectionGroup": "prompts",
      "queryScope": "COLLECTION",
      "fields": [
        { "fieldPath": "userId", "order": "ASCENDING" },
        { "fieldPath": "personId", "order": "ASCENDING" },
        { "fieldPath": "createdAt", "order": "DESCENDING" }
      ]
    },
    {
      "collectionGroup": "prompts",
      "queryScope": "COLLECTION",
      "fields": [
        { "fieldPath": "userId", "order": "ASCENDING" },
        { "fieldPath": "scheduledFor", "order": "ASCENDING" },
        { "fieldPath": "status", "order": "ASCENDING" }
      ]
    },
    {
      "collectionGroup": "prompts",
      "queryScope": "COLLECTION",
      "fields": [
        { "fieldPath": "userId", "order": "ASCENDING" },
        { "fieldPath": "type", "order": "ASCENDING" },
        { "fieldPath": "urgency", "order": "DESCENDING" }
      ]
    },
    {
      "collectionGroup": "emotionalSignals",
      "queryScope": "COLLECTION", 
      "fields": [
        { "fieldPath": "userId", "order": "ASCENDING" },
        { "fieldPath": "relationshipId", "order": "ASCENDING" },
        { "fieldPath": "timestamp", "order": "DESCENDING" }
      ]
    },
    {
      "collectionGroup": "emotionalSignals",
      "queryScope": "COLLECTION",
      "fields": [
        { "fieldPath": "userId", "order": "ASCENDING" },
        { "fieldPath": "emotionType", "order": "ASCENDING" },
        { "fieldPath": "intensity", "order": "DESCENDING" }
      ]
    },
    {
      "collectionGroup": "emotionalSignals",
      "queryScope": "COLLECTION",
      "fields": [
        { "fieldPath": "userId", "order": "ASCENDING" },
        { "fieldPath": "detectionMethod", "order": "ASCENDING" },
        { "fieldPath": "timestamp", "order": "DESCENDING" }
      ]
    },
    {
      "collectionGroup": "relationshipHealth",
      "queryScope": "COLLECTION",
      "fields": [
        { "fieldPath": "userId", "order": "ASCENDING" },
        { "fieldPath": "personId", "order": "ASCENDING" },
        { "fieldPath": "calculatedAt", "order": "DESCENDING" }
      ]
    },
    {
      "collectionGroup": "relationshipHealth",
      "queryScope": "COLLECTION",
      "fields": [
        { "fieldPath": "userId", "order": "ASCENDING" },
        { "fieldPath": "overallScore", "order": "DESCENDING" },
        { "fieldPath": "calculatedAt", "order": "DESCENDING" }
      ]
    },
    {
      "collectionGroup": "relationshipHealth",
      "queryScope": "COLLECTION",
      "fields": [
        { "fieldPath": "userId", "order": "ASCENDING" },
        { "fieldPath": "trend", "order": "ASCENDING" },
        { "fieldPath": "overallScore", "order": "ASCENDING" }
      ]
    },
    {
      "collectionGroup": "contextThreads",
      "queryScope": "COLLECTION",
      "fields": [
        { "fieldPath": "userId", "order": "ASCENDING" },
        { "fieldPath": "relationshipId", "order": "ASCENDING" },
        { "fieldPath": "lastUpdate", "order": "DESCENDING" }
      ]
    },
    {
      "collectionGroup": "contextThreads",
      "queryScope": "COLLECTION",
      "fields": [
        { "fieldPath": "userId", "order": "ASCENDING" },
        { "fieldPath": "isActive", "order": "ASCENDING" },
        { "fieldPath": "priority", "order": "DESCENDING" }
      ]
    },
    {
      "collectionGroup": "contextThreads",
      "queryScope": "COLLECTION",
      "fields": [
        { "fieldPath": "userId", "order": "ASCENDING" },
        { "fieldPath": "threadType", "order": "ASCENDING" },
        { "fieldPath": "lastUpdate", "order": "DESCENDING" }
      ]
    },
    {
      "collectionGroup": "temporalTriggers",
      "queryScope": "COLLECTION",
      "fields": [
        { "fieldPath": "userId", "order": "ASCENDING" },
        { "fieldPath": "isActive", "order": "ASCENDING" },
        { "fieldPath": "targetDate", "order": "ASCENDING" }
      ]
    },
    {
      "collectionGroup": "temporalTriggers",
      "queryScope": "COLLECTION",
      "fields": [
        { "fieldPath": "userId", "order": "ASCENDING" },
        { "fieldPath": "triggerType", "order": "ASCENDING" },
        { "fieldPath": "nextFireDate", "order": "ASCENDING" }
      ]
    },
    {
      "collectionGroup": "temporalTriggers",
      "queryScope": "COLLECTION",
      "fields": [
        { "fieldPath": "userId", "order": "ASCENDING" },
        { "fieldPath": "personId", "order": "ASCENDING" },
        { "fieldPath": "targetDate", "order": "ASCENDING" }
      ]
    },
    {
      "collectionGroup": "attachments",
      "queryScope": "COLLECTION",
      "fields": [
        { "fieldPath": "userId", "order": "ASCENDING" },
        { "fieldPath": "relationshipId", "order": "ASCENDING" },
        { "fieldPath": "uploadedAt", "order": "DESCENDING" }
      ]
    },
    {
      "collectionGroup": "attachments",
      "queryScope": "COLLECTION",
      "fields": [
        { "fieldPath": "userId", "order": "ASCENDING" },
        { "fieldPath": "type", "order": "ASCENDING" },
        { "fieldPath": "uploadedAt", "order": "DESCENDING" }
      ]
    },
    {
      "collectionGroup": "conflictResolution",
      "queryScope": "COLLECTION", 
      "fields": [
        { "fieldPath": "userId", "order": "ASCENDING" },
        { "fieldPath": "status", "order": "ASCENDING" },
        { "fieldPath": "detectedAt", "order": "DESCENDING" }
      ]
    },
    {
      "collectionGroup": "conflictResolution",
      "queryScope": "COLLECTION",
      "fields": [
        { "fieldPath": "userId", "order": "ASCENDING" },
        { "fieldPath": "conflictType", "order": "ASCENDING" },
        { "fieldPath": "detectedAt", "order": "DESCENDING" }
      ]
    },
    {
      "collectionGroup": "emotionalProfile",
      "queryScope": "COLLECTION",
      "fields": [
        { "fieldPath": "userId", "order": "ASCENDING" },
        { "fieldPath": "dominantEmotions", "arrayConfig": "CONTAINS" },
        { "fieldPath": "lastUpdated", "order": "DESCENDING" }
      ]
    },
    {
      "collectionGroup": "emotionalProfile", 
      "queryScope": "COLLECTION",
      "fields": [
        { "fieldPath": "userId", "order": "ASCENDING" },
        { "fieldPath": "communicationStyle", "order": "ASCENDING" },
        { "fieldPath": "empathyLevel", "order": "DESCENDING" }
      ]
    },
    {
      "collectionGroup": "vectors",
      "queryScope": "COLLECTION",
      "fields": [
        { "fieldPath": "userId", "order": "ASCENDING" },
        { "fieldPath": "isActive", "order": "ASCENDING" },
        { "fieldPath": "contentType", "order": "ASCENDING" },
        { "fieldPath": "embedding", "vectorConfig": {"dimension": 768, "flat": {}} }
      ]
    },
    {
      "collectionGroup": "vectors",
      "queryScope": "COLLECTION",
      "fields": [
        { "fieldPath": "relationshipId", "order": "ASCENDING" },
        { "fieldPath": "lastUpdated", "order": "DESCENDING" }
      ]
    },
    {
      "collectionGroup": "vectors",
      "queryScope": "COLLECTION",
      "fields": [
        { "fieldPath": "userId", "order": "ASCENDING" },
        { "fieldPath": "contentType", "order": "ASCENDING" },
        { "fieldPath": "lastUpdated", "order": "DESCENDING" }
      ]
    },
    {
      "collectionGroup": "vectors",
      "queryScope": "COLLECTION",
      "fields": [
        { "fieldPath": "userId", "order": "ASCENDING" },
        { "fieldPath": "isActive", "order": "ASCENDING" },
        { "fieldPath": "embedding", "vectorConfig": {"dimension": 768, "flat": {}} }
      ]
    }
  ],
  "fieldOverrides": [
    {
      "collectionGroup": "relationships",
      "fieldPath": "notes",
      "indexes": [],
      "ttl": false
    },
    {
      "collectionGroup": "relationships", 
      "fieldPath": "description",
      "indexes": [],
      "ttl": false
    },
    {
      "collectionGroup": "interactions",
      "fieldPath": "notes", 
      "indexes": [],
      "ttl": false
    },
    {
      "collectionGroup": "lifeEvents",
      "fieldPath": "description",
      "indexes": [],
      "ttl": false
    },
    {
      "collectionGroup": "prompts",
      "fieldPath": "description",
      "indexes": [],
      "ttl": false
    },
    {
      "collectionGroup": "prompts",
      "fieldPath": "suggestion",
      "indexes": [],
      "ttl": false
    },
    {
      "collectionGroup": "emotionalSignals",
      "fieldPath": "context",
      "indexes": [],
      "ttl": false
    },
    {
      "collectionGroup": "contextThreads",
      "fieldPath": "summary",
      "indexes": [],
      "ttl": false
    },
    {
      "collectionGroup": "vectors",
      "fieldPath": "searchableContent",
      "indexes": [],
      "ttl": false
    }
  ]
}